From 96d733e3700a1b3c3a826f9dee24714a1a63941f Mon Sep 17 00:00:00 2001
From: Zakk <zakk@rsdio.com>
Date: Wed, 14 Jan 2026 02:41:54 -0500
Subject: [PATCH 02/11] 0002

---
 support/arcade/mra_loader.cpp | 21 +++++++++++++++++++++
 support/arcade/mra_loader.h   |  2 ++
 2 files changed, 23 insertions(+)

diff --git a/support/arcade/mra_loader.cpp b/support/arcade/mra_loader.cpp
index ccaf2f9..29f913e 100644
--- a/support/arcade/mra_loader.cpp
+++ b/support/arcade/mra_loader.cpp
@@ -63,6 +63,27 @@ static int  nvram_idx  = 0;
 static int  nvram_size = 0;
 static char nvram_name[200] = {};
 
+
+bool arcade_has_nvm()
+{
+       if (nvram_idx && nvram_size)
+       {
+               return true;
+       }
+
+       return false;
+}
+
+void arcade_nvm_clear()
+{
+       if (nvram_idx && nvram_size)
+       {
+               char path[256] = CONFIG_DIR"/nvram/";
+               strcat(path, nvram_name);
+               FileDelete(path);
+       }
+}
+
 void arcade_nvm_save()
 {
 	if(nvram_idx && nvram_size)
diff --git a/support/arcade/mra_loader.h b/support/arcade/mra_loader.h
index 529f616..2cfe985 100644
--- a/support/arcade/mra_loader.h
+++ b/support/arcade/mra_loader.h
@@ -67,6 +67,8 @@ bool arcade_is_vertical();
 int arcade_get_direction();
 
 void arcade_nvm_save();
+bool arcade_has_nvm();
+void arcade_nvm_clear();
 
 mgl_struct* mgl_parse(const char *xml);
 mgl_struct* mgl_get();
-- 
2.52.0

